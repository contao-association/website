var MultiSelect={changeNamerecursive:function(a,b,c){a.each(function(a){if(a.name!=undefined&&a.name!=null&&a.name!=""){a.name=a.name.replace(/\[[0-9]+\]/ig,"["+c+"]")}if(a.getProperty("for")!=undefined&&a.getProperty("for")!=null&&a.getProperty("for")!=""){a.setProperty("for",a.getProperty("for").replace(/\[[0-9]+\]/ig,"["+c+"]"))}if(b.id!=undefined&&b.id!=null&&b.id!=""){a.id=b.id.replace(/\[[0-9]+\]/ig,"["+c+"]")}if(a.getChildren().length>0)MultiSelect.changeNamerecursive(a.getChildren(),b,c)})},moduleWizard:function(a,b,c){var d=$(c);var e=d.getFirst().getNext();var f=$(a).getParent("tr");var g=e.getChildren();var h=d.getProperty("rel").match(/\[[0-9]+\]/ig)[0].replace("[","").replace("]","").toInt();Backend.getScrollOffset();switch(b){case"copy":var i=new Element("tr");var j=f.getChildren();for(var k=0;k<j.length;k++){var l=j[k].clone(true).injectInside(i);l.getFirst().value=j[k].getFirst().value}i.injectAfter(f);if(h<=e.getChildren().length && h!=0){e.getElements("img[src=system/themes/default/images/copy.gif]").setStyle("display","none")}break;case"up":f.getPrevious()?f.injectBefore(f.getPrevious()):f.injectInside(e);break;case"down":f.getNext()?f.injectAfter(f.getNext()):f.injectBefore(e.getFirst());break;case"delete":g.length>1?f.destroy():null;if(h>e.getChildren().length){e.getElements("img[src=system/themes/default/images/copy.gif]").setStyle("display","inline")}break}g=e.getChildren();var m=g[0].getChildren();for(var k=0;k<g.length;k++){var j=g[k].getChildren();for(var n=0;n<j.length;n++){var o=j[n].getChildren();var p=m[n].getFirst();MultiSelect.changeNamerecursive(o,p,k)}}}}